# Бенчмарки хранилищ данных(ХД)


## Итерация 1.
----

## Описание:
В каждое ХД записывалось 1_000_000 строк чанками по 1_000 и 100_000 строк, замерялоась время записи и время чтения чанка данных

## Кандидаты
1. postgres
2. clickhouse
3. mongo

## Результаты

1. чтение

|chunk_size|1000|100000|chunk_10000/chunk_1000|
|---|---|---|---|
|clickhouse|0.001797|0.032581|18.128880|
|mongo|0.000028|0.000059|2.146552|
|postgres|0.000820|0.054052|65.922797|

2. запись

|chunk_size|1000|100000|chunk_10000/chunk_1000|
|---|---|---|---|
|clickhouse|0.004154|0.033146|7.978822|
|mongo|0.007862|0.903528|114.929080|
|postgres|0.005117|0.506959|99.070004|


## Выводы

1. чтение на всех размерах чанка быстрее всего у монго
2. при малом размере чанка чтение постгреса быстрее чтения кликхауса примерно в 10 раз, при большом размере чанка чтение кликхауса примерно в 2 раза быстрее, чем чтение постгреса
3. запись на всех размерах чанка быстрее всего у кликхауса, причем с увеличением размера чанка кликхаус деградирует меньше всего
4. с увеличением размера чанка чтение меньше всего деградирует у монго(x2), больше всего - у постгреса(х65)
5. с увеличением размера чанка запись меньше всего деградирует у кликхауса(x8), больше всего - у монго(х114)

## Итерация 2.
----

добавлено сравнение ```clickhouse``` и ```vertica``` (чтение и запись 1000000 строк чанками по 1000, 10000, 100000)

## результаты

1. запись

|chunk_size|1000|10000|100000|
|---|---|---|---|
|clickhouse|0.001943|0.006313|0.050835|
|vertica|5.015732|6.862327|6.567055|

2. чтение

|chunk_size|1000|10000|100000|
|---|---|---|---|
|clickhouse|0.001936|0.004904|0.045079|
|vertica|0.013536|0.019803|0.004282|

```vertica``` очень сильно проигрывает ```clickhouse``` в скорости записи данных, чтение также быстрее у ```clickhouse```, однако, на чтении данных большими пачками(100000 строк) ```vertica``` показывает себя лучше

### в качестве хранилища аналитических данных предпочтительнее ```clickhouse```, так как он более сбалансирован в разрезе чтения и записи, а также умеет работать с данными с помощью ```numpy``` и ```pandas```, что делает его более удобным для аналитиков, мл инженеров.

